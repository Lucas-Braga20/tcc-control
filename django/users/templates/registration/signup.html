{% extends 'base.html' %}
{% load widget_tweaks %}

{% block layout %}
  <div class="d-flex flex-column flex-root">
    <div class="d-flex flex-column flex-column-fluid">
      <div class="d-flex flex-center flex-column flex-column-fluid p-10 pb-lg-20">
        <div class="w-lg-1000px bg-body rounded shadow-sm p-10 p-lg-15 mx-auto">
          <form method="post" class="form w-100" novalidate>
            {% csrf_token %}

            <div class="text-center mb-10">
              <h1 class="text-dark mb-3">TCC Control</h1>

              <h2 class="text-gray-400 fw-normal fs-3">Crie uma conta.</h2>
            </div>

            <div class="fv-row mb-10 fv-plugins-icon-container">
              <label class="form-label fs-6 fw-bold text-dark required">
                Nome de usuário
              </label>

              {% if form.username.errors %}
                {{ form.username|add_class:"form-control form-control-solid is-invalid" }}
              {% else %}
                {{ form.username|add_class:"form-control form-control-solid" }}
              {% endif %}

              {% if form.username.help_text and not form.username.errors %}
                <p class="mb-0 mt-1">{{ form.username.help_text }}</p>
              {% endif %}

              {% for error in form.username.errors %}
                <div class="fv-plugins-message-container invalid-feedback">{{ error }}</div>
              {% endfor %}
            </div>

            <div class="row">
              <div class="col">
                <div class="fv-row mb-10 fv-plugins-icon-container">
                  <label class="form-label fs-6 fw-bold text-dark">
                    Primeiro nome
                  </label>

                  {% if form.first_name.errors %}
                    {{ form.first_name|add_class:"form-control form-control-solid is-invalid" }}
                  {% else %}
                    {{ form.first_name|add_class:"form-control form-control-solid" }}
                  {% endif %}

                  {% for error in form.first_name.errors %}
                    <div class="fv-plugins-message-container invalid-feedback">{{ error }}</div>
                  {% endfor %}
                </div>
              </div>

              <div class="col">
                <div class="fv-row mb-10 fv-plugins-icon-container">
                  <label class="form-label fs-6 fw-bold text-dark">
                    Segundo nome
                  </label>

                  {% if form.last_name.errors %}
                    {{ form.last_name|add_class:"form-control form-control-solid is-invalid" }}
                  {% else %}
                    {{ form.last_name|add_class:"form-control form-control-solid" }}
                  {% endif %}

                  {% for error in form.last_name.errors %}
                    <div class="fv-plugins-message-container invalid-feedback">{{ error }}</div>
                  {% endfor %}
                </div>
              </div>
            </div>

            <div class="fv-row mb-10 fv-plugins-icon-container">
              <label class="form-label fs-6 fw-bold text-dark required">
                Email
              </label>

              {% if form.email.errors %}
                {{ form.email|add_class:"form-control form-control-solid is-invalid" }}
              {% else %}
                {{ form.email|add_class:"form-control form-control-solid" }}
              {% endif %}

              {% if form.email.help_text and not form.email.errors %}
                <p class="mb-0 mt-1">{{ form.email.help_text }}</p>
              {% endif %}

              {% for error in form.email.errors %}
                <div class="fv-plugins-message-container invalid-feedback">{{ error }}</div>
              {% endfor %}
            </div>

            <div class="fv-row mb-10 fv-plugins-icon-container">
              <label class="form-label fs-6 fw-bold text-dark required">
                Telefone
              </label>

              {% if form.phone.errors %}
                {{ form.phone|add_class:"form-control form-control-solid is-invalid" }}
              {% else %}
                {{ form.phone|add_class:"form-control form-control-solid" }}
              {% endif %}

              {% for error in form.phone.errors %}
                <div class="fv-plugins-message-container invalid-feedback">{{ error }}</div>
              {% endfor %}
            </div>

            <div class="row">
              <div class="col">
                <div class="fv-row mb-10 fv-plugins-icon-container">
                  <label class="form-label fs-6 fw-bold text-dark required">
                    Senha
                  </label>

                  {% if form.password1.errors %}
                    {{ form.password1|add_class:"form-control form-control-solid is-invalid" }}
                  {% else %}
                    {{ form.password1|add_class:"form-control form-control-solid" }}
                  {% endif %}

                  {% if form.password1.help_text and not form.password1.errors %}
                    <p class="mb-0 mt-1">{{ form.password1.help_text }}</p>
                  {% endif %}

                  {% for error in form.password1.errors %}
                    <div class="fv-plugins-message-container invalid-feedback">{{ error }}</div>
                  {% endfor %}
                </div>
              </div>

              <div class="col">
                <div class="fv-row mb-10 fv-plugins-icon-container">
                  <label class="form-label fs-6 fw-bold text-dark required">
                    Confirmar senha
                  </label>

                  {% if form.password2.errors %}
                    {{ form.password2|add_class:"form-control form-control-solid is-invalid" }}
                  {% else %}
                    {{ form.password2|add_class:"form-control form-control-solid" }}
                  {% endif %}

                  {% if form.password2.help_text and not form.password2.errors %}
                    <p class="mb-0 mt-1">{{ form.password2.help_text }}</p>
                  {% endif %}

                  {% for error in form.password2.errors %}
                    <div class="fv-plugins-message-container invalid-feedback">{{ error }}</div>
                  {% endfor %}
                </div>
              </div>
            </div>

            <div class="text-center">
              <button
                type="submit"
                id="kt_sign_in_submit"
                class="btn btn-lg btn-primary mb-5">
                Cadastrar
              </button>
            </div>
          </form>

          <div class="row">
            <div class="col">
              <div class="d-flex justify-content-end text-gray-400 fw-semibold fs-4">
                Já possui uma conta?

                <a
                  href="{% url 'login' %}"
                  class="link-primary fw-bold ms-3">
                  Faça login.
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
