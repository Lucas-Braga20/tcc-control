{% extends 'base.html' %}

{% block body_class %}primary-gradient{% endblock %}

{% block layout %}
  <div class="d-flex flex-column flex-root z-index-1">
    <div class="d-flex flex-column flex-column-fluid">
      <div class="d-flex flex-center flex-column flex-column-fluid p-10 pb-lg-20">
        <div class="w-lg-500px bg-body rounded shadow-sm p-10 p-lg-15 mx-auto">
          <form method="post" class="form w-100" novalidate>
            {% csrf_token %}

            <div class="text-center mb-10">
              <h1 class="text-dark mb-3">TCC Control</h1>

              <h2 class="text-gray-400 fw-normal fs-3">Acesse a aplicação.</h2>
            </div>

            {% if form.non_field_errors %}
              <div class="alert alert-dismissible bg-danger d-flex flex-column flex-sm-row w-100 p-5 mb-10">
                <span class="svg-icon svg-icon-2hx me-4 mb-5 mb-sm-0">
                  <i class="fas fa-exclamation-circle fa-fw fa-3x text-white"></i>
                </span>

                <div class="d-flex flex-column pe-0 pe-sm-10">
                  <h4 class="fw-semibold text-white">Houve um erro!</h4>
                  <span class="text-white">
                    Seu usuário e/ou senha podem estar incorretos.
                  </span>
                </div>

                <button type="button" class="position-absolute position-sm-relative m-2 m-sm-0 top-0 end-0 btn btn-icon ms-sm-auto" data-bs-dismiss="alert">
                  <i class="fas fa-times text-white"></i>
                </button>
              </div>
            {% endif %}

            <div class="fv-row mb-10 fv-plugins-icon-container">
              <label class="form-label fs-6 fw-bold text-dark">Nome de usuário</label>

              <input
                type="text"
                name="username"
                class="form-control form-control-lg form-control-solid {% if form.username.errors %}is-invalid{% endif %}"
                autofocus=""
                autocapitalize="none"
                autocomplete="username"
                maxlength="150"
                required=""
                id="id_username"
              >
              {% for error in form.username.errors %}
                <div class="fv-plugins-message-container invalid-feedback">{{ error }}</div>
              {% endfor %}
            </div>

            <div class="fv-row mb-10 fv-plugins-icon-container">
              <label class="form-label fw-bold text-dark fs-6 mb-0">Senha</label>

              <input
                type="password"
                name="password"
                class="form-control form-control-lg form-control-solid {% if form.password.errors %}is-invalid{% endif %}"
                autocomplete="current-password"
                required=""
                id="id_password"
              >
              {% for error in form.password.errors %}
                <div class="fv-plugins-message-container invalid-feedback">{{ error }}</div>
              {% endfor %}
            </div>

            <div class="text-center">
              <button
                type="submit"
                id="kt_sign_in_submit"
                class="btn btn-lg btn-primary w-100 mb-5">
                Continuar
              </button>
            </div>
          </form>

          <div class="row">
            <div class="col">
              <div class="d-flex justify-content-end text-gray-400 fw-semibold fs-4">
                Sem acesso?

                <a
                  href="{% url 'users:signup' %}"
                  class="link-primary fw-bold ms-3">
                  Crie uma conta.
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block inline-css-styles %}
  <style>
    .primary-gradient {
      background: rgb(95,77,239);
      background: linear-gradient(120deg, rgba(95,77,239,1) 0%, rgba(95,77,239,1) 100%);
    }
  </style>
{% endblock %}
